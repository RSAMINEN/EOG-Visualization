(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{299:function(e,t,a){e.exports=a(610)},610:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(38),i=a.n(c),o=a(67),u=a(249),s=a(267),m=a(177),l=a(28),p=a.n(l),f=a(45),b="EVENT/API_ERROR_RECEIVED",d="COMMAND/FETCH_METRICS",E="EVENT/METRICS_RECEIVED",O="COMMAND/FETCH_PAST_METRICS_DATA",v="EVENT/PAST_METRICS_DATA_RECEIVED",h=a(116),j=p.a.mark(y),g=p.a.mark(w);function y(e){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.a)(h.toast.error,"Error Received: ".concat(e.error));case 2:case"end":return t.stop()}},j)}function w(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(b,y);case 2:case"end":return e.stop()}},g)}var D=[w],x=a(34),T=a(39),k=a(129),A=a(178),C=a(130),I=a(254),M=a(269),V=a(270),R=a(36),N=a(253),_=a(5),P=a(131),S=a.n(P);function F(){var e=Object(k.a)(["\n            subscription {\n                newMeasurement {\n                    at\n                    unit\n                    value\n                    metric\n                }\n            }\n        "]);return F=function(){return e},e}function q(){var e=Object(k.a)(['\n      {\n        getMeasurements(\n          input: {\n            metricName: "','"\n            after: ',"\n          }\n        ) {\n          at\n          metric\n          value\n        }\n      }\n    "]);return q=function(){return e},e}function K(){var e=Object(k.a)(["\n            {\n                getMetrics\n            }\n        "]);return K=function(){return e},e}var H=new V.a({uri:"https://react.eogresources.com/graphql"}),W=new N.a({uri:"ws://react.eogresources.com/graphql",options:{reconnect:!0}}),B=Object(R.d)(function(e){var t=e.query,a=Object(_.l)(t);return"OperationDefinition"===a.kind&&"subscription"===a.operation},W,H),L=new M.a,J=new I.a({cache:L,link:B}),U=function(){var e=Object(C.a)(p.a.mark(function e(){var t,a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.query({query:S()(K())});case 2:return t=e.sent,a=t.data,n=Object(A.a)(t,["data"]),e.abrupt("return",Object(T.a)({data:a},n));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(C.a)(p.a.mark(function e(t){var a,n,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,J.query({query:S()(q(),t,new Date((new Date).getTime()-18e5).getTime())});case 3:return a=e.sent,n=a.data,r=Object(A.a)(a,["data"]),e.abrupt("return",Object(T.a)({data:n},r));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),$={fetchMetrics:U,subscribeMetricsData:function(){var e=Object(C.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.subscribe({query:S()(F())});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),fetchPastData:z},G=p.a.mark(Y),Q=p.a.mark(Z),X=p.a.mark(ee);function Y(e){var t,a,n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)($.fetchMetrics);case 2:if(t=e.sent,a=t.data,!(n=t.error)){e.next=10;break}return e.next=8,Object(f.c)({type:b,error:n.errors[0].message});case 8:return e.next=10,Object(f.b)();case 10:return e.next=12,Object(f.c)({type:E,metrics:a.getMetrics});case 12:case"end":return e.stop()}},G)}function Z(e){var t,a,n,r,c;return p.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(f.a)($.fetchPastData,e.metricName);case 2:return t=i.sent,a=t.data,n=a.getMeasurements,r={},n.map(function(e){var t,a=e.metric,n=e.at,c=e.value;return r=Object(T.a)({},r,Object(x.a)({},n,Object(T.a)({},r[n],(t={},Object(x.a)(t,a,c),Object(x.a)(t,"at","".concat(new Date(n).getHours()%12||12,"-").concat(new Date(n).getMinutes())),t)))),null}),c=Object.keys(r).map(function(e){return r[e]}),i.next=10,Object(f.c)({type:v,graphData:c});case 10:case"end":return i.stop()}},Q)}function ee(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.d)(d,Y);case 2:return e.next=4,Object(f.d)(O,Z);case 4:case"end":return e.stop()}},X)}var te,ae=[ee],ne=[].concat(Object(m.a)(D),Object(m.a)(ae)),re={temperatureinCelsius:null,temperatureinFahrenheit:null,description:"",locationName:""},ce=Object(x.a)({},"EVENT/WEATHER_DATA_RECEIVED",function(e,t){var a,n=t.getWeatherForLocation,r=n.description,c=n.locationName,i=n.temperatureinCelsius;return{temperatureinCelsius:i,temperatureinFahrenheit:(a=i,9*a/5+32),description:r,locationName:c}}),ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,a=ce[t.type];return"undefined"===typeof a?e:a(e,t)},oe={metrics:[],metricsData:{},graphData:[],currentValue:{tubingPressure:0,casingPressure:0,oilTemp:0,flareTemp:0,waterTemp:0,injValveOpen:0}},ue=(te={},Object(x.a)(te,E,function(e,t){var a=t.metrics;return Object(T.a)({},e,{metrics:a})}),Object(x.a)(te,"EVENT/METRICS_DATA_RECEIVED",function(e,t){var a,n=t.metrics,r=n.metric,c=n.at,i=n.value,o=Object(T.a)({},e.currentValue,Object(x.a)({},r,i)),u=e.metricsData,s=Object.keys(u).map(function(e){return u[e]});return Object(T.a)({},e,{metricsData:Object(T.a)({},u,Object(x.a)({},c,Object(T.a)({},u[c],(a={},Object(x.a)(a,r,i),Object(x.a)(a,"at","".concat(new Date(c).getHours()%12||12,"-").concat(new Date(c).getMinutes())),a)))),graphData:s,currentValue:o})}),Object(x.a)(te,v,function(e,t){var a=t.graphData,n=t.metricsData;return console.log(a),Object(T.a)({},e,{metricsData:n,graphData:a})}),te),se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,a=ue[t.type];return"undefined"===typeof a?e:a(e,t)},me=a(127),le=a(265),pe=a(633),fe=a(632),be=(a(329),a(612)),de=Object(be.a)(function(e){return{wrapper:{background:e.palette.background.main,height:"100vh"}}}),Ee=function(e){var t=e.children,a=de();return r.a.createElement("div",{className:a.wrapper},t)},Oe=a(268),ve=a(634),he=a(629),je=a(630),ge=a(631),ye=a(134),we=a(628),De=a(266),xe=a(255),Te=a(40),ke=Object(xe.a)(),Ae=Object(me.b)(function(e){return{metrics:e.metrics.metrics,graphData:e.metrics.graphData,currentValue:e.metrics.currentValue}},function(e){return{onLoad:function(){e({type:d})},subscribeUpdates:function(){$.subscribeMetricsData().then(function(t){t.subscribe(function(t){var a=t.data;e({type:"EVENT/METRICS_DATA_RECEIVED",metrics:a.newMeasurement})})})},loadPastData:function(t){e({type:O,metricName:t})}}})(function(e){var t=e.onLoad,a=e.metrics,n=e.currentValue,c=e.subscribeUpdates,i=r.a.useState([]),o=Object(Oe.a)(i,2),u=o[0],s=o[1];Object(we.a)(function(){t(),c()});var m=a.map(function(e){return{label:e,value:e}}),l=e.graphData;return r.a.createElement(ve.a,null,r.a.createElement(he.a,{title:"Plot",subheader:"Choose from Input"}),r.a.createElement(je.a,{style:{minHeight:500}},r.a.createElement(ge.a,{container:!0},u.map(function(e,t){return r.a.createElement(ge.a,{key:t,item:!0,xs:2},r.a.createElement(ve.a,null,r.a.createElement(he.a,{title:e}),r.a.createElement(je.a,null,r.a.createElement(ye.a,{variant:"h3"},n[e]))))})),r.a.createElement(De.a,{options:m,components:ke,isMulti:!0,onChange:function(e){s(e?e.map(function(e){return e.value}):[])}}),r.a.createElement(Te.b,{width:800,height:500,data:l,margin:{top:30,right:30,bottom:5,left:50}},u.indexOf("oilTemp")>-1&&r.a.createElement(Te.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"oilTemp",stroke:"#FF0000"}),u.indexOf("injValveOpen")>-1&&r.a.createElement(Te.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:0,dataKey:"injValveOpen",stroke:"#1100FF"}),u.indexOf("tubingPressure")>-1&&r.a.createElement(Te.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:1,dataKey:"tubingPressure",stroke:"#00770C"}),u.indexOf("casingPressure")>-1&&r.a.createElement(Te.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:1,dataKey:"casingPressure",stroke:"#B900AD"}),u.indexOf("flareTemp")>-1&&r.a.createElement(Te.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"flareTemp",stroke:"#C7A600"}),u.indexOf("waterTemp")>-1&&r.a.createElement(Te.a,{type:"monotone",dot:!1,activeDot:!1,yAxisId:2,dataKey:"waterTemp",stroke:"#3C392E"}),r.a.createElement(Te.d,{dataKey:"at",tickSize:10}),r.a.createElement(Te.e,{yAxisId:0,unit:"%",orientation:"left",stroke:"#88f4d8"}),r.a.createElement(Te.e,{yAxisId:1,unit:"PSI",orientation:"left",stroke:"#82ca9d"}),r.a.createElement(Te.e,{yAxisId:2,unit:"F",orientation:"left",stroke:"#82ca9d"}),r.a.createElement(Te.c,null))))}),Ce=function(){var e=Object(o.combineReducers)({weather:ie,metrics:se}),t=Object(u.composeWithDevTools)({}),a=Object(s.a)(),n=Object(o.applyMiddleware)(a),r=Object(o.createStore)(e,t(n));return ne.forEach(a.run),r}(),Ie=Object(le.a)({typography:{useNextVariants:!0},palette:{primary:{main:"rgb(39,49,66)"},secondary:{main:"rgb(197,208,222)"},background:{main:"rgb(226,231,238)"}}}),Me=function(e){return r.a.createElement(pe.a,{theme:Ie},r.a.createElement(fe.a,null),r.a.createElement(me.a,{store:Ce},r.a.createElement(Ee,null,r.a.createElement(h.ToastContainer,null),r.a.createElement(Ae,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Me,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[299,1,2]]]);
//# sourceMappingURL=main.be33efba.chunk.js.map